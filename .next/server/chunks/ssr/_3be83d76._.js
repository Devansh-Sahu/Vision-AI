module.exports=[187924,(a,b,c)=>{"use strict";b.exports=a.r(342602).vendored["react-ssr"].ReactJsxRuntime},738783,(a,b,c)=>{"use strict";b.exports=a.r(342602).vendored["react-ssr"].ReactServerDOMTurbopackClient},935112,(a,b,c)=>{"use strict";b.exports=a.r(342602).vendored["react-ssr"].ReactDOM},596221,215049,a=>{"use strict";let b=(0,a.i(170106).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],596221);let c=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,d=5,e=254,f=6,g=128,h=!1,i=!1,j=!1,k=2,l=100;function m(a){let b=[];if(!a||0===a.trim().length)return b.push("Email is required"),{valid:!1,errors:b};let f=a.trim();return f.length<d&&b.push(`Email must be at least ${d} characters`),f.length>e&&b.push(`Email must be less than ${e} characters`),c.test(f)||b.push("Please enter a valid email address"),{valid:0===b.length,errors:b}}function n(a){var b,c,d;let e,n,o={},p=function(a){let b=[];if(!a||0===a.trim().length)return b.push("Full name is required"),{valid:!1,errors:b};let c=a.trim();return c.length<k&&b.push(`Name must be at least ${k} characters`),c.length>l&&b.push(`Name must be less than ${l} characters`),{valid:0===b.length,errors:b}}(a.fullName);p.valid||(o.fullName=p.errors);let q=m(a.email);q.valid||(o.email=q.errors);let r=(b=a.password,e=[],b?(b.length<f&&e.push(`Password must be at least ${f} characters`),b.length>g&&e.push(`Password must be less than ${g} characters`),h&&!/[A-Z]/.test(b)&&e.push("Password must contain at least one uppercase letter"),i&&!/[a-z]/.test(b)&&e.push("Password must contain at least one lowercase letter"),j&&!/\d/.test(b)&&e.push("Password must contain at least one number"),{valid:0===e.length,errors:e}):(e.push("Password is required"),{valid:!1,errors:e}));r.valid||(o.password=r.errors);let s=(c=a.password,d=a.confirmPassword,n=[],d?(c!==d&&n.push("Passwords do not match"),{valid:0===n.length,errors:n}):(n.push("Please confirm your password"),{valid:!1,errors:n}));return s.valid||(o.confirmPassword=s.errors),{valid:0===Object.keys(o).length,fieldErrors:o}}function o(a){let b={},c=m(a.email);return c.valid||(b.email=c.errors),a.password||(b.password=["Password is required"]),{valid:0===Object.keys(b).length,fieldErrors:b}}a.s(["validateLoginForm",()=>o,"validateSignupForm",()=>n],215049)},783694,a=>{"use strict";var b=a.i(187924),c=a.i(269240),d=a.i(340695),e=a.i(703130),f=a.i(205522),g=a.i(917171),h=a.i(238246),i=a.i(50944),j=a.i(572131),k=a.i(400210),l=a.i(596221),m=a.i(332150),n=a.i(215049);function o(){let[a,o]=(0,j.useState)(""),[p,q]=(0,j.useState)(""),[r,s]=(0,j.useState)({}),[t,u]=(0,j.useState)(null),[v,w]=(0,j.useState)(!1),x=(0,i.useRouter)(),y=(0,j.useCallback)(a=>{o(a.target.value),s(a=>({...a,email:[]})),u(null)},[]),z=(0,j.useCallback)(a=>{q(a.target.value),s(a=>({...a,password:[]})),u(null)},[]),A=async b=>{b.preventDefault(),u(null);let d=(0,n.validateLoginForm)({email:a,password:p});if(!d.valid)return void s(d.fieldErrors);w(!0),s({});try{let b=(0,c.createClient)(),{data:d,error:e}=await b.auth.signInWithPassword({email:a.trim(),password:p});if(e)return void(e.message.includes("Invalid login credentials")?u("Invalid email or password. Please try again."):e.message.includes("Email not confirmed")?u("Please check your email and confirm your account before signing in."):e.message.includes("Too many requests")?u("Too many login attempts. Please wait a moment and try again."):u(e.message));d.user&&(x.push("/dashboard"),x.refresh())}catch(a){console.error("Login error:",a),u("An unexpected error occurred. Please try again.")}finally{w(!1)}};return(0,b.jsxs)("div",{className:"min-h-screen flex items-center justify-center p-6 relative",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-background to-accent/5"}),(0,b.jsx)("div",{className:"absolute top-1/4 right-1/4 w-96 h-96 bg-primary/10 rounded-full blur-3xl"}),(0,b.jsxs)("div",{className:"relative z-10 w-full max-w-md",children:[(0,b.jsxs)(h.default,{href:"/",className:"inline-flex items-center gap-2 text-muted-foreground hover:text-foreground mb-8 transition-colors",children:[(0,b.jsx)(k.ArrowLeft,{className:"h-4 w-4"}),"Back to home"]}),(0,b.jsxs)(e.Card,{className:"bg-card/80 backdrop-blur border-border",children:[(0,b.jsxs)(e.CardHeader,{className:"text-center",children:[(0,b.jsx)("div",{className:"flex justify-center mb-4",children:(0,b.jsx)(m.VisionAILogo,{size:"lg",animate:!0})}),(0,b.jsx)(e.CardTitle,{className:"text-2xl",children:"Welcome back"}),(0,b.jsx)(e.CardDescription,{children:"Sign in to your Vision-AI dashboard"})]}),(0,b.jsx)(e.CardContent,{children:(0,b.jsxs)("form",{onSubmit:A,noValidate:!0,children:[(0,b.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{htmlFor:"email",children:"Email"}),(0,b.jsx)(f.Input,{id:"email",type:"email",placeholder:"driver@company.com",required:!0,value:a,onChange:y,className:`bg-background/50 ${r.email?.length?"border-destructive":""}`,disabled:v,autoComplete:"email"}),r.email?.map((a,c)=>(0,b.jsx)("p",{className:"text-xs text-destructive",children:a},c))]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{htmlFor:"password",children:"Password"}),(0,b.jsx)(f.Input,{id:"password",type:"password",required:!0,value:p,onChange:z,className:`bg-background/50 ${r.password?.length?"border-destructive":""}`,disabled:v,autoComplete:"current-password"}),r.password?.map((a,c)=>(0,b.jsx)("p",{className:"text-xs text-destructive",children:a},c))]}),t&&(0,b.jsx)("div",{className:"p-3 rounded-lg bg-destructive/10 border border-destructive/20",children:(0,b.jsx)("p",{className:"text-sm text-destructive",children:t})}),(0,b.jsx)(d.Button,{type:"submit",className:"w-full",disabled:v,children:v?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(l.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"})]}),(0,b.jsxs)("div",{className:"mt-4 text-center text-sm",children:["Don't have an account?"," ",(0,b.jsx)(h.default,{href:"/signup",className:"text-primary hover:underline underline-offset-4",children:"Sign up"})]})]})})]})]})]})}a.s(["default",()=>o])}];

//# sourceMappingURL=_3be83d76._.js.map