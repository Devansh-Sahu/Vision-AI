(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,531278,193862,e=>{"use strict";let s=(0,e.i(475254).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>s],531278);let a=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,r=5,t=254,l=6,i=128,n=!1,d=!1,o=!1,c=2,u=100;function m(e){let s=[];if(!e||0===e.trim().length)return s.push("Email is required"),{valid:!1,errors:s};let l=e.trim();return l.length<r&&s.push(`Email must be at least ${r} characters`),l.length>t&&s.push(`Email must be less than ${t} characters`),a.test(l)||s.push("Please enter a valid email address"),{valid:0===s.length,errors:s}}function h(e){var s,a,r;let t,h,p={},g=function(e){let s=[];if(!e||0===e.trim().length)return s.push("Full name is required"),{valid:!1,errors:s};let a=e.trim();return a.length<c&&s.push(`Name must be at least ${c} characters`),a.length>u&&s.push(`Name must be less than ${u} characters`),{valid:0===s.length,errors:s}}(e.fullName);g.valid||(p.fullName=g.errors);let v=m(e.email);v.valid||(p.email=v.errors);let x=(s=e.password,t=[],s?(s.length<l&&t.push(`Password must be at least ${l} characters`),s.length>i&&t.push(`Password must be less than ${i} characters`),n&&!/[A-Z]/.test(s)&&t.push("Password must contain at least one uppercase letter"),d&&!/[a-z]/.test(s)&&t.push("Password must contain at least one lowercase letter"),o&&!/\d/.test(s)&&t.push("Password must contain at least one number"),{valid:0===t.length,errors:t}):(t.push("Password is required"),{valid:!1,errors:t}));x.valid||(p.password=x.errors);let b=(a=e.password,r=e.confirmPassword,h=[],r?(a!==r&&h.push("Passwords do not match"),{valid:0===h.length,errors:h}):(h.push("Please confirm your password"),{valid:!1,errors:h}));return b.valid||(p.confirmPassword=b.errors),{valid:0===Object.keys(p).length,fieldErrors:p}}function p(e){let s={},a=m(e.email);return a.valid||(s.email=a.errors),e.password||(s.password=["Password is required"]),{valid:0===Object.keys(s).length,fieldErrors:s}}e.s(["validateLoginForm",()=>p,"validateSignupForm",()=>h],193862)},789954,e=>{"use strict";var s=e.i(843476),a=e.i(920755),r=e.i(167881),t=e.i(970065),l=e.i(23750),i=e.i(10708),n=e.i(522016),d=e.i(618566),o=e.i(271645),c=e.i(871689),u=e.i(531278),m=e.i(181662),h=e.i(193862);function p(){let[e,p]=(0,o.useState)(""),[g,v]=(0,o.useState)(""),[x,b]=(0,o.useState)({}),[f,w]=(0,o.useState)(null),[j,N]=(0,o.useState)(!1),y=(0,d.useRouter)(),P=(0,o.useCallback)(e=>{p(e.target.value),b(e=>({...e,email:[]})),w(null)},[]),C=(0,o.useCallback)(e=>{v(e.target.value),b(e=>({...e,password:[]})),w(null)},[]),k=async s=>{s.preventDefault(),w(null);let r=(0,h.validateLoginForm)({email:e,password:g});if(!r.valid)return void b(r.fieldErrors);N(!0),b({});try{let s=(0,a.createClient)(),{data:r,error:t}=await s.auth.signInWithPassword({email:e.trim(),password:g});if(t)return void(t.message.includes("Invalid login credentials")?w("Invalid email or password. Please try again."):t.message.includes("Email not confirmed")?w("Please check your email and confirm your account before signing in."):t.message.includes("Too many requests")?w("Too many login attempts. Please wait a moment and try again."):w(t.message));r.user&&(y.push("/dashboard"),y.refresh())}catch(e){console.error("Login error:",e),w("An unexpected error occurred. Please try again.")}finally{N(!1)}};return(0,s.jsxs)("div",{className:"min-h-screen flex items-center justify-center p-6 relative",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-background to-accent/5"}),(0,s.jsx)("div",{className:"absolute top-1/4 right-1/4 w-96 h-96 bg-primary/10 rounded-full blur-3xl"}),(0,s.jsxs)("div",{className:"relative z-10 w-full max-w-md",children:[(0,s.jsxs)(n.default,{href:"/",className:"inline-flex items-center gap-2 text-muted-foreground hover:text-foreground mb-8 transition-colors",children:[(0,s.jsx)(c.ArrowLeft,{className:"h-4 w-4"}),"Back to home"]}),(0,s.jsxs)(t.Card,{className:"bg-card/80 backdrop-blur border-border",children:[(0,s.jsxs)(t.CardHeader,{className:"text-center",children:[(0,s.jsx)("div",{className:"flex justify-center mb-4",children:(0,s.jsx)(m.VisionAILogo,{size:"lg",animate:!0})}),(0,s.jsx)(t.CardTitle,{className:"text-2xl",children:"Welcome back"}),(0,s.jsx)(t.CardDescription,{children:"Sign in to your Vision-AI dashboard"})]}),(0,s.jsx)(t.CardContent,{children:(0,s.jsxs)("form",{onSubmit:k,noValidate:!0,children:[(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(i.Label,{htmlFor:"email",children:"Email"}),(0,s.jsx)(l.Input,{id:"email",type:"email",placeholder:"driver@company.com",required:!0,value:e,onChange:P,className:`bg-background/50 ${x.email?.length?"border-destructive":""}`,disabled:j,autoComplete:"email"}),x.email?.map((e,a)=>(0,s.jsx)("p",{className:"text-xs text-destructive",children:e},a))]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(i.Label,{htmlFor:"password",children:"Password"}),(0,s.jsx)(l.Input,{id:"password",type:"password",required:!0,value:g,onChange:C,className:`bg-background/50 ${x.password?.length?"border-destructive":""}`,disabled:j,autoComplete:"current-password"}),x.password?.map((e,a)=>(0,s.jsx)("p",{className:"text-xs text-destructive",children:e},a))]}),f&&(0,s.jsx)("div",{className:"p-3 rounded-lg bg-destructive/10 border border-destructive/20",children:(0,s.jsx)("p",{className:"text-sm text-destructive",children:f})}),(0,s.jsx)(r.Button,{type:"submit",className:"w-full",disabled:j,children:j?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"})]}),(0,s.jsxs)("div",{className:"mt-4 text-center text-sm",children:["Don't have an account?"," ",(0,s.jsx)(n.default,{href:"/signup",className:"text-primary hover:underline underline-offset-4",children:"Sign up"})]})]})})]})]})]})}e.s(["default",()=>p])}]);